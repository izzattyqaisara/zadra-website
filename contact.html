<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact — Zadra Ingénieurs</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    :root{
      --bg:#f7f4f1; --ink:#2a1e1a;
      --primary:#7b4b2a; --primary-2:#9b6944;
      --card:#fff; --muted:#7a6a61;
      --line:#eee2da; --ring:rgba(123,75,42,.25);
      --shadow:0 10px 30px rgba(0,0,0,.07), 0 4px 10px rgba(0,0,0,.05);
      --radius:20px;
      --cream-1:#efe3d7; --cream-2:#f7f4f1;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,Arial;
    }
    body{padding-top:72px}

    .container{max-width:1200px;margin:0 auto;padding:0 20px}

    /* Hero to match other pages */
    .page-hero{
      background:linear-gradient(180deg,var(--cream-1) 0%, var(--cream-2) 100%);
      border-bottom:1px solid #ecdccc;
      padding:clamp(48px,6vw,96px) 0;
      margin-bottom:18px;
    }
    .eyebrow{
      display:inline-block;font-size:12px;letter-spacing:.18em;text-transform:uppercase;
      color:var(--primary);background:#f3e7de;border-radius:999px;padding:6px 12px;font-weight:700
    }
    h1{margin:14px 0 6px;font-weight:800;line-height:1.1;font-size:clamp(28px,3.4vw,44px)}
    .muted{color:var(--muted)}
    .section-title{margin:0 0 8px;font-size:22px}

    /* Cards & grid */
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:18px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:#fff;border:1px solid var(--line);border-radius:var(--radius);
      box-shadow:var(--shadow);padding:18px
    }
    .card h3{margin:2px 0 12px}

    /* Form controls */
    label{font-weight:700;font-size:14px}
    .input{
      width:100%;margin-top:6px;appearance:none;
      background:#fff;border:1px solid #e6ddd6;border-radius:12px;
      padding:12px 14px;font:inherit;color:inherit;
      box-shadow:inset 0 1px 0 rgba(0,0,0,.02);
    }
    .input:focus{outline:2px solid var(--ring);outline-offset:2px;border-color:#e3d6cc}
    textarea.input{resize:vertical;min-height:120px}

    .btn{
      appearance:none;border:0;border-radius:12px;
      background:var(--primary);color:#fff;padding:12px 16px;
      font-weight:800;cursor:pointer
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:focus-visible{outline:2px solid var(--ring);outline-offset:2px}

    /* Map */
    .mapwrap{border:1px solid #f0e8e2;border-radius:16px;overflow:hidden;box-shadow:var(--shadow)}
    .map{width:100%;height:320px;border:0}

    /* Footer */
    .site-footer{text-align:center;color:var(--muted);margin:40px 0 20px}
  </style>
</head>
<body>
  <!-- NAV -->
  <div data-include="nav.html"></div>
  <script type="module">import './importer.js';</script>
  <script type="module">import './main.js';</script>
  <script>
(function () {
  function init() {
    const nav = document.querySelector('.site-nav');
    if (!nav) return false;

    // Ensure main <ul> has a class for our CSS
    const menu = nav.querySelector('ul');
    if (!menu) return false;
    menu.classList.add('menu');

    // Create a hamburger if not present
    let toggle = nav.querySelector('.menu-toggle');
    if (!toggle) {
      toggle = document.createElement('button');
      toggle.className = 'menu-toggle';
      toggle.setAttribute('aria-label', 'Menu');
      toggle.setAttribute('aria-expanded', 'false');
      toggle.innerHTML = '&#9776;'; // hamburger icon
      const logo = nav.querySelector('.logo');
      (logo && logo.parentNode)
        ? logo.parentNode.insertBefore(toggle, logo.nextSibling)
        : nav.insertBefore(toggle, nav.firstChild);
    }

    // Open/close the drawer on mobile
    toggle.addEventListener('click', () => {
      const open = nav.classList.toggle('is-open');
      toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    // Expand/collapse "About" submenu on mobile
    nav.querySelectorAll('li.has-sub > a').forEach(a => {
      a.addEventListener('click', (e) => {
        if (window.matchMedia('(max-width: 820px)').matches) {
          e.preventDefault();
          a.parentElement.classList.toggle('open');
        }
      });
    });

    // Close drawer when tapping outside
    document.addEventListener('click', (e) => {
      if (!nav.contains(e.target)) nav.classList.remove('is-open');
    });

    return true;
  }

  // Run after nav.html is injected by importer.js
  function tryInitOnce() { if (!init()) setTimeout(tryInitOnce, 50); }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', tryInitOnce);
  } else {
    tryInitOnce();
  }
  // If your importer dispatches a custom event
  document.addEventListener('include:loaded', tryInitOnce);
})();
</script>

  <!-- HERO -->
  <section class="page-hero">
    <div class="container">
      <p class="eyebrow">Contact</p>
      <h1>We’d love to hear from you</h1>
      <p class="muted">Send us a message or find us on the map below.</p>
    </div>
  </section>

  <main class="container">
    <h2 class="section-title" style="display:none">Contact</h2>
    <div class="grid">
      <!-- Form -->
      <div class="card">
        <h3>Send us a message</h3>
        <form id="contactForm" action="https://formspree.io/f/xnnzwkaj" method="POST">
          <label>Name
            <input name="name" required placeholder="Your name" class="input" />
          </label>
          <br><br>
          <label>Email
            <input name="email" type="email" required placeholder="you@email.com" class="input" />
          </label>
          <br><br>
          <label>Message
            <textarea name="message" rows="4" required placeholder="How can we help?" class="input"></textarea>
          </label>
          <br><br>
          <!-- optional: subject for easier inbox sorting -->
          <input type="hidden" name="_subject" value="Website Contact — Zadra Ingénieurs" />
          <button class="btn" type="submit">Send</button>
        </form>
      </div>

      <!-- Map -->
      <div class="card">
        <h3>Location</h3>
        <div class="mapwrap">
          <iframe
            title="Map"
            src="https://www.openstreetmap.org/export/embed.html?layer=mapnik&marker=1.5197386703064046, 110.37902921263544&bbox=110.3493,1.5463,110.3693,1.5603"
            class="map"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
        <p class="muted">Kuching, Sarawak · Asia/Kuching (GMT+8)</p>
      </div>
    </div>
  </main>

  <footer class="site-footer">© <span id="year"></span> Zadra Ingénieurs Sdn. Bhd. All rights reserved.</footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
